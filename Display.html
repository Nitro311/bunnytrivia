<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bunny Trivia</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
	
	<style>
		.page {
			display: none;
			text-align: center;
		}
		
		.correct {
			background-color: green !important;
		}
		
		.navbar-brand {
			text-align: center;
		}
	</style>
  </head>
  <body>
	<div class="container">
		<nav class="navbar navbar-default">
			<div class="container-fluid">
				<div class="navbar-header">
					<a class="navbar-brand">
						Bunny Trivia
					</a>
				</div>
			</div>
		</nav>
		<div id="displaywaitingpage" class="page">
			Waiting for players to accept
			<table class="table table-striped">
				<thead>
					<tr>
						<th>Player</th>
						<th>Accepted</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>Alex</td>
						<td><input type="checkbox" disabled /></td>
					</tr>
					<tr>
						<td>Emily</td>
						<td><input type="checkbox" disabled checked /></td>
					</tr>
					<tr>
						<td><em>Waiting...</em></td>
						<td></td>
					</tr>
				</tbody>
			</table>
		
			<p>
				The room code is:
				<code>
					XYZ
				</code>
			</p>
			Share room code:
			http://example.com/room/XYZ
			<br />
		
			<img height="100" src="spinner.gif">
			<button id="startnowbutton">Start Now!</button>
		
		</div>
		<div class="page" id="gamestartedpage">
			Game Name
			Round X
		</div>
		<div class="page" id="questionpage">
			How many polar bears does it take to change a light bulb?

			<div class="progress">
				<div class="progress-bar progress-bar-striped" role="progressbar" id="timeleftprogressbar"><span class="sr-only">60% Complete</span></div>
			</div>

		</div>
		<div class="page" id="answerspage">
			<table class="table table-striped">
				<thead>
					<tr>
						<th>Player</th>
						<th>Answer</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>Alex</td>
						<td>16</td>
					</tr>
					<tr>
						<td>Emily</td>
						<td>8</td>
					</tr>
					<tr class="correct">
						<td>Aaron</td>
						<td>47</td>
					</tr>
				</tbody>
			</table>
			
		</div>
		<div class="page" id="scoringpage">
			<table class="table table-striped">
				<thead>
					<tr>
						<th>Player</th>
						<th>Score</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>Alex</td>
						<td>1000</td>
					</tr>
					<tr>
						<td>Emily</td>
						<td>500</td>
					</tr>
					<tr>
						<td>Aaron</td>
						<td>-1000</td>
					</tr>
				</tbody>
			</table>
			
			
		</div>
	
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
	
	<script>
		var timeToShowQuestionSeconds = 1;
		var timeToShowRoundPageSeconds = 1;
		var questionTimeRemaining;
		var gameTimer;
		
		function showQuestionPage() {
			$('.page').hide();
			$('#questionpage').show();

			questionTimeRemaining = timeToShowQuestionSeconds;
			questionCountdown();
		}
	
		function questionCountdown() {
			// update the display for the remaining time
			var percent = 100.0 * questionTimeRemaining / timeToShowQuestionSeconds;
			$('#timeleftprogressbar').attr('style', 'width:' + percent + '%');
			
			questionTimeRemaining -= 1;
			
			if (questionTimeRemaining >= -1) {
				gameTimer = setTimeout(questionCountdown, 1000);
			} else {
				showAnswersPage();
			}
		}
		
		function showAnswersPage() {
			$('.page').hide();
			$('#answerspage').show();
			
			gameTimer = setTimeout(showScoringPage, 3000);
		}
		
		function showScoringPage() {
			$('.page').hide();
			$('#scoringpage').show();
		
			gameTimer = setTimeout(showQuestionPage, 3000);		
		}		
	
	    $('#startnowbutton').on('click', function(){
			$('.page').hide();
			$('#gamestartedpage').show();
			gameTimer = setTimeout(showQuestionPage, timeToShowRoundPageSeconds * 1000);
		});
		
		
		$('#startbutton').on('click', function() {
			$('.page').hide();
			$('#displaywaitingpage').show();
		});


		$('#displaywaitingpage').show();
	</script>
  </body>
</html>